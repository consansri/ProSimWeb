<h2>sections, macros, labels, comments, equs</h2>
<pre><code>; program to show an example of the current syntax

; equ constants
.equ SP_START, $0FFE
.equ WORD_WIDTH, 2

*=$0FF0				; sets the program counter to a specific address
SP:					; initiates a parent label

; macros (equs can also be used in macros)
.macro pushac
STORE 	((SP)) 	; store value
LOAD 	(SP) 	; decrease sp
SUB 	#WORD_WIDTH
STORE	(SP)
.endm

.macro pullac
LOAD 	(SP) 	; increase sp
ADD 	#WORD_WIDTH
STORE	(SP)
LOAD	((SP)) 	; load value
.endm

; sections
*=$1000
.bss
data: .word

*=$0000
.text
init:
; set the start of sp
LOAD 	#SP_START
STORE 	(SP)

start:
; do something
LOAD 	#$CAFE
STORE	(data)

; branch to subroutine
BSR 	.subroutine

; do something
LOAD 	#$DEAD
STORE 	(data)

; jump to end
BRA		end

.subroutine:		; first child label
; safe return address
pushac

; do something
LOAD 	#-13570
ROL
ROL
ROL
ROL
STORE 	(data)

; load return address
pullac

; return
JMP

end:

</code></pre>
